(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[0],{108:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(51),i=n.n(a),l=(n(59),n(22)),r=n(21);n(12);function o(e){var t="a_p_p_"+e.view;return function(e){var n=e.val;return t+n}}var u=function(e){var t=e.items,n=e.setFn,c=e.bucket;n(t.map((function(e,t){return{title:{text:e.Key},qrcode:{text:"https://".concat(c,".s3.amazonaws.com/").concat(e.Key,'"             \n                ')}}})))},d=n(1),j=(o({view:"Nav"}),o({view:"NavMainPod"}));function b(e){var t={name:{text:"Feroz"},links:{items:["Login","Upload","Your NFT's"].map((function(t,n){return{text:t,onClick:function(){e.history.push(["/","/upload","/nfts"][n])}}}))}};return Object(d.jsxs)("div",{className:j({val:""}),children:[Object(d.jsx)("h1",{className:j({val:"Name"}),children:t.name.text}),Object(d.jsx)("div",{className:j({val:"0"}),children:t.links.items.map((function(e,t){return Object(d.jsx)("a",{onClick:e.onClick,className:j({val:"0Link"}),children:e.text},t)}))})]})}var v=o({view:"Login"}),m=o({view:"LoginPod0"});function f(e){var t={user:{label:{text:"Username"}},pass:{label:{text:"Password"}},submit:{text:"Submit",onClick:function(t){e.history.push("/upload")}}};return Object(d.jsx)("div",{className:v({val:"View"}),children:Object(d.jsx)("div",{className:m({val:""}),children:Object(d.jsxs)("div",{className:m({val:"Pod0"}),children:[Object(d.jsxs)("div",{className:m({val:"Pod0Item"}),children:[Object(d.jsx)("label",{children:t.user.label.text}),Object(d.jsx)("input",{className:m({val:"Pod0Input"})})]}),Object(d.jsxs)("div",{className:m({val:"Pod0Item"}),children:[Object(d.jsx)("label",{children:t.pass.label.text}),Object(d.jsx)("input",{className:m({val:"Pod0Input"})})]}),Object(d.jsx)("button",{onClick:t.submit.onClick,className:m({val:"Pod0Button"}),children:t.submit.text})]})})})}var h=n(20),x=n.n(h),O=o({view:"Upload"}),p=o({view:"UploadPod0"});function N(e){var t=Object(c.useState)(""),n=Object(r.a)(t,2),s=n[0],a=n[1],i={file:{element:document.createElement("input"),onChange:function(){var t;fetch("".concat(e.env.backend.url,"/upload/").concat(e.env.creds.user),{method:"POST",body:null===(t=i.file.element.files)||void 0===t?void 0:t[0]}).then((function(e){return e.json()})).then((function(e){console.log(e),i.file.element.setAttribute("type","text"),i.file.element.setAttribute("type","file"),a(e.message.object_url)})).catch((function(e){console.log(e),i.file.element.setAttribute("type","text"),i.file.element.setAttribute("type","file")}))}},button:{onClick:function(){i.file.element.click()},text:"Upload Content"},qrcode:{value:s}};return i.file.element.type="file",i.file.element.onchange=i.file.onChange,Object(d.jsx)("div",{className:O({val:"View"}),children:Object(d.jsx)("div",{className:O({val:"MainPod"}),children:Object(d.jsxs)("div",{className:p({val:""}),children:[Object(d.jsx)("div",{className:p({val:"Item"}),style:{flex:"1 0 100%"},children:Object(d.jsx)("button",{onClick:i.button.onClick,className:p({val:"Button"}),children:i.button.text})}),Object(d.jsx)(x.a,{value:i.qrcode.value})]})})})}var k=n(52),g=o({view:"NFTS"}),w=o({view:"NFTSPod0"});function P(e){var t={items:e.nftsItems,conversion:u,clientIo:Object(k.io)(e.env.backend.url)};return t.clientIo.on("update",(function(t){fetch("".concat(e.env.backend.url,"/list/").concat(e.env.creds.user)).then((function(e){return e.json()})).then((function(t){u({items:t.message.files,setFn:e.setNftsItems,bucket:e.env.creds.bucket})})).catch(console.error)})),Object(d.jsx)("div",{className:g({val:"View"}),children:Object(d.jsx)("div",{className:g({val:"MainPod"}),children:Object(d.jsxs)("div",{className:w({val:""}),children:[Object(d.jsx)("h1",{children:"Your NFT's"}),Object(d.jsx)("div",{className:w({val:"Item0"}),children:t.items.map((function(e,t){return Object(d.jsxs)("div",{className:w({val:"Item1"}),children:[Object(d.jsx)("h2",{children:e.title.text}),Object(d.jsx)(x.a,{size:64,value:e.qrcode.text})]},t)}))})]})})})}var C=n(2),I={backend:{url:"https://feroz-qrcode-app.herokuapp.com"},creds:{user:"feroz",bucket:"feroz-qrcode-app"}};var y=function(){var e=Object(C.f)(),t=Object(c.useState)([]),n=Object(r.a)(t,2),s=n[0],a=n[1];return Object(c.useEffect)((function(){fetch("".concat(I.backend.url,"/list/").concat(I.creds.user)).then((function(e){return e.json()})).then((function(e){u({items:e.message.files,setFn:a,bucket:I.creds.bucket})})).catch(console.error)}),[I.creds.user]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(b,{history:e}),Object(d.jsxs)(C.c,{children:[Object(d.jsx)(C.a,{exact:!0,path:"/",render:function(t){return t.history=e,Object(d.jsx)(f,Object(l.a)({},t))}}),Object(d.jsx)(C.a,{path:"/upload",render:function(e){return e.env=I,Object(d.jsx)(N,Object(l.a)({},e))}}),Object(d.jsx)(C.a,{path:"/nfts",render:function(e){return e.env=I,e.nftsItems=s,e.setNftsItems=a,Object(d.jsx)(P,Object(l.a)({},e))}})]})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,109)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))},S=n(30);i.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(S.a,{children:Object(d.jsx)(y,{})})}),document.getElementById("root")),F()},12:function(e,t,n){},59:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.72cd1832.chunk.js.map