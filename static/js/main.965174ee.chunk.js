(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[0],{108:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),i=n(51),l=n.n(i),a=(n(59),n(22)),o=n(12);n(13);function r(e){var t="a_p_p_"+e.view;return function(e){var n=e.val;return t+n}}var u=function(e){var t=e.items,n=e.setFn,c=e.bucket;n(null===t||void 0===t?void 0:t.map((function(e,t){return{title:{text:e.Key},qrcode:{text:"https://".concat(c,".s3.amazonaws.com/").concat(e.Key)}}})))},d=n(0),j=(r({view:"Nav"}),r({view:"NavMainPod"}));function b(e){var t=Object(c.useState)({}),n=Object(o.a)(t,2),s=n[0],i=n[1],l={name:{text:"Feroz"},menu:{mobile:{style:s},icon:{onClick:function(){i({display:"flex"})}}},links:{items:["Login","Upload","Your NFT's"].map((function(t,n){return{text:t,onClick:function(){e.history.push(["/","/upload","/nfts"][n])},mobile:{onClick:function(){i({display:"none"}),e.history.push(["/","/upload","/nfts"][n])}}}}))}};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:j({val:""}),children:[Object(d.jsx)("h1",{className:j({val:"Name"}),children:l.name.text}),Object(d.jsxs)("div",{className:j({val:"0"}),children:[l.links.items.map((function(e,t){return Object(d.jsx)("a",{onClick:e.onClick,className:j({val:"0Link"}),children:e.text},t)})),Object(d.jsx)("div",{onClick:l.menu.icon.onClick,className:j({val:"0MenuIcon"})})]})]}),Object(d.jsx)("div",{style:l.menu.mobile.style,className:j({val:"0MenuPod"}),children:l.links.items.map((function(e,t){return Object(d.jsx)("a",{onClick:e.mobile.onClick,className:j({val:"0MenuLink"}),children:e.text},t)}))})]})}var v=r({view:"Login"}),m=r({view:"LoginPod0"});function h(e){var t={user:{label:{text:"Username"}},pass:{label:{text:"Password"}},submit:{text:"Submit",onClick:function(t){e.history.push("/upload")}}};return Object(d.jsx)("div",{className:v({val:"View"}),children:Object(d.jsx)("div",{className:m({val:""}),children:Object(d.jsxs)("div",{className:m({val:"Pod0"}),children:[Object(d.jsxs)("div",{className:m({val:"Pod0Item"}),children:[Object(d.jsx)("label",{children:t.user.label.text}),Object(d.jsx)("input",{className:m({val:"Pod0Input"})})]}),Object(d.jsxs)("div",{className:m({val:"Pod0Item"}),children:[Object(d.jsx)("label",{children:t.pass.label.text}),Object(d.jsx)("input",{className:m({val:"Pod0Input"})})]}),Object(d.jsx)("button",{onClick:t.submit.onClick,className:m({val:"Pod0Button"}),children:t.submit.text})]})})})}var f=n(21),x=n.n(f),O=r({view:"Upload"}),p=r({view:"UploadPod0"});function k(e){var t=Object(c.useState)(""),n=Object(o.a)(t,2),s=n[0],i=n[1],l={file:{element:document.createElement("input"),onChange:function(){var t;fetch("".concat(e.env.backend.url,"/upload/").concat(e.env.creds.user),{method:"POST",body:null===(t=l.file.element.files)||void 0===t?void 0:t[0]}).then((function(e){return e.json()})).then((function(e){console.log(e),l.file.element.setAttribute("type","text"),l.file.element.setAttribute("type","file"),i(e.message.object_url)})).catch((function(e){console.log(e),l.file.element.setAttribute("type","text"),l.file.element.setAttribute("type","file")}))}},button:{onClick:function(){l.file.element.click()},text:"Upload Content"},qrcode:{value:s}};return l.file.element.type="file",l.file.element.onchange=l.file.onChange,Object(d.jsx)("div",{className:O({val:"View"}),children:Object(d.jsx)("div",{className:O({val:"MainPod"}),children:Object(d.jsxs)("div",{className:p({val:""}),children:[Object(d.jsx)("div",{className:p({val:"Item"}),style:{flex:"1 0 100%"},children:Object(d.jsx)("button",{onClick:l.button.onClick,className:p({val:"Button"}),children:l.button.text})}),Object(d.jsx)("div",{style:{border:"10px solid white"},children:Object(d.jsx)(x.a,{value:l.qrcode.value})})]})})})}var N=n(52),w=r({view:"NFTS"}),y=r({view:"NFTSPod0"});function C(e){var t={items:e.nftsItems,conversion:u,clientIo:Object(N.io)(e.env.backend.url)};return t.clientIo.on("update",(function(t){fetch("".concat(e.env.backend.url,"/list/").concat(e.env.creds.user)).then((function(e){return e.json()})).then((function(t){u({items:t.message.files,setFn:e.setNftsItems,bucket:e.env.creds.bucket})})).catch(console.error)})),Object(d.jsx)("div",{className:w({val:"View"}),children:Object(d.jsx)("div",{className:w({val:"MainPod"}),children:Object(d.jsxs)("div",{className:y({val:""}),children:[Object(d.jsx)("h1",{className:y({val:"Title0"}),children:"Your NFT's"}),Object(d.jsx)("div",{className:y({val:"Item0"}),children:t.items.map((function(e,t){return Object(d.jsxs)("div",{className:y({val:"Item1"}),children:[Object(d.jsx)("h2",{children:e.title.text}),Object(d.jsx)("div",{style:{border:"10px solid white"},children:Object(d.jsx)(x.a,{size:128,value:e.qrcode.text})})]},t)}))})]})})})}var g=n(2),P={backend:{url:"https://feroz-qrcode-app.herokuapp.com"},creds:{user:"feroz",bucket:"feroz-qrcode-app"}};var I=function(){var e=Object(g.f)(),t=Object(c.useState)([]),n=Object(o.a)(t,2),s=n[0],i=n[1];return window.addEventListener("resize",(function(){console.log(window.innerWidth)})),Object(c.useEffect)((function(){fetch("".concat(P.backend.url,"/list/").concat(P.creds.user)).then((function(e){return e.json()})).then((function(e){u({items:e.message.files,setFn:i,bucket:P.creds.bucket})})).catch(console.error)}),[P.creds.user]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(b,{history:e}),Object(d.jsxs)(g.c,{children:[Object(d.jsx)(g.a,{exact:!0,path:"/",render:function(t){return t.history=e,Object(d.jsx)(h,Object(a.a)({},t))}}),Object(d.jsx)(g.a,{path:"/upload",render:function(e){return e.env=P,Object(d.jsx)(k,Object(a.a)({},e))}}),Object(d.jsx)(g.a,{path:"/nfts",render:function(e){return e.env=P,e.nftsItems=s,e.setNftsItems=i,Object(d.jsx)(C,Object(a.a)({},e))}})]})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,109)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,l=t.getTTFB;n(e),c(e),s(e),i(e),l(e)}))},S=n(30);l.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(S.a,{children:Object(d.jsx)(I,{})})}),document.getElementById("root")),F()},13:function(e,t,n){},59:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.965174ee.chunk.js.map